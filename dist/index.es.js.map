{"version":3,"file":"index.es.js","sources":["../node_modules/tslib/tslib.es6.js","../src/constants/index.ts","../src/utils/index.ts","../src/constants/classNames.ts","../src/constants/inlineStyles.ts","../src/components/HexOffsetLabel.tsx","../src/components/HexEditorGutter.tsx","../src/components/HexByteValue.tsx","../src/components/HexAsciiValue.tsx","../src/components/HexEditorRow.tsx","../src/contexts/HexEditorContext.tsx","../src/components/HexEditorBodyRow.tsx","../src/components/HexEditorBody.tsx","../src/components/HexEditor.tsx","../src/components/HexEditorMeasureRow.tsx","../src/components/AutoSizeHexEditor.tsx","../src/themes/index.ts","../src/utils/styles.ts","../src/components/StyledHexEditor.tsx","../src/components/StyledAutoSizeHexEditor.tsx"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {\n  KEY_0,\n  KEY_1,\n  KEY_2,\n  KEY_3,\n  KEY_4,\n  KEY_5,\n  KEY_6,\n  KEY_7,\n  KEY_8,\n  KEY_9,\n  KEY_A,\n  KEY_B,\n  KEY_C,\n  KEY_D,\n  KEY_E,\n  KEY_F,\n} from 'keycode-js';\n\nimport {\n  HexEditorClassNames,\n  HexEditorInlineStyles,\n} from '../types';\n\nexport const EDIT_MODE_HEX = 'hex';\nexport const EDIT_MODE_ASCII = 'ascii';\n\nexport const SELECTION_DIRECTION_FORWARD = 'forward';\nexport const SELECTION_DIRECTION_BACKWARD = 'backward';\nexport const SELECTION_DIRECTION_NONE = 'none';\n\nexport const KEY_VALUES: { [key: number]: number } = {\n  [KEY_0]: 0x0,\n  [KEY_1]: 0x1,\n  [KEY_2]: 0x2,\n  [KEY_3]: 0x3,\n  [KEY_4]: 0x4,\n  [KEY_5]: 0x5,\n  [KEY_6]: 0x6,\n  [KEY_7]: 0x7,\n  [KEY_8]: 0x8,\n  [KEY_9]: 0x9,\n  [KEY_A]: 0xa,\n  [KEY_B]: 0xb,\n  [KEY_C]: 0xc,\n  [KEY_D]: 0xd,\n  [KEY_E]: 0xe,\n  [KEY_F]: 0xf,\n};\n\nexport const EMPTY_CLASSNAMES: HexEditorClassNames = {};\nexport const EMPTY_INLINE_STYLES: HexEditorInlineStyles = {};\n","export const ASCII_LOOKUP = new Array(0x100).fill(0)\n  .map((_v, i: number) => (i >= 0x20 && i < 0x80 ? String.fromCodePoint(i) : '.'));\n\nconst REGEX_MAC_LIKE = /Mac|iPhone|iPod|iPad/;\n\nexport function isMacLike() {\n  return REGEX_MAC_LIKE.test(navigator.platform);\n}\n\nexport function getScrollbarSize(parentNode = document.body) {\n  const outer = document.createElement('div');\n  outer.setAttribute('data-measure-scrollbar', 'true');\n  outer.style.visibility = 'hidden';\n  outer.style.overflow = 'scroll';\n  parentNode.appendChild(outer);\n\n  const inner = document.createElement('div');\n  outer.appendChild(inner);\n\n  const scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n  const scrollbarHeight = outer.offsetHeight - inner.offsetHeight;\n\n  parentNode.removeChild(outer);\n\n  return [scrollbarWidth, scrollbarHeight];\n}\n\nexport function formatHex(value: number, padToLength?: number) {\n  const hexValue = value.toString(16);\n  return padToLength ? hexValue.padStart(padToLength, '0') : hexValue;\n}\n\nexport function formatHexByte(value: number) {\n  return (value & 0xff).toString(16).padStart(2, '0');\n}\n\nexport function byteToAscii(value: number) {\n  return ASCII_LOOKUP[value & 0xff];\n}\n\nexport function hasSelection(\n  start: number,\n  end: number,\n  selectionStart: number,\n  selectionEnd: number = selectionStart,\n) {\n  // Selection contains range\n  if (selectionStart <= start && selectionEnd >= end) {\n    return true;\n  }\n  // Selection starts in range\n  if (selectionStart >= start && selectionStart <= end) {\n    return true;\n  }\n  // Selection ends in range\n  if (selectionEnd >= start && selectionEnd <= end) {\n    return true;\n  }\n  // Selection does not overlap range\n  return false;\n}\n","import { HexEditorClassNames } from '../types';\n\nconst CLASS_NAMES: HexEditorClassNames = {\n  ascii: 'asciiValue',\n  asciiHeader: 'asciiHeader',\n  asciiValues: 'asciiValues',\n  body: 'hexEditorBody',\n  byte: 'byteValue',\n  byteHeader: 'byteHeader',\n  byteValues: 'byteValues',\n  currentColumn: 'currentColumn',\n  currentRow: 'currentRow',\n  cursor: 'cursor',\n  cursorHigh: 'cursorHigh',\n  cursorLow: 'cursorLow',\n  editAscii: 'editAscii',\n  editHex: 'editHex',\n  even: 'even',\n  gutter: 'gutter',\n  gutterHeader: 'gutterHeader',\n  header: 'hexEditorHeader',\n  highlight: 'highlight',\n  invalid: 'invalid',\n  notFocused: 'notFocused',\n  nybbleHigh: 'nybbleHighValue',\n  nybbleLow: 'nybbleLowValue',\n  odd: 'odd',\n  offsetLabel: 'offsetLabel',\n  offsetLabelHeader: 'offsetLabelHeader',\n  row: 'hexEditorRow',\n  rowHeader: 'hexEditorRowHeader',\n  selection: 'selection',\n  selectionCursor: 'selectionCursor',\n  selectionEnd: 'selectionEnd',\n  selectionStart: 'selectionStart',\n};\n\nexport default CLASS_NAMES;\n","import { HexEditorInlineStyles } from '../types';\n\nexport const EDITOR_STYLE: React.CSSProperties = {\n  fontFamily: 'monospace',\n  position: 'relative',\n};\n\nexport const INPUT_STYLE: React.CSSProperties = {\n  border: 0,\n  bottom: 0,\n  cursor: 'text',\n  display: 'block',\n  height: '100%',\n  left: 0,\n  opacity: 0,\n  outline: 0,\n  padding: 0,\n  pointerEvents: 'none',\n  position: 'absolute',\n  right: 0,\n  top: 0,\n  width: '100%',\n};\n\nexport const MEASURE_STYLE: React.CSSProperties = {\n  opacity: 0,\n  pointerEvents: 'none',\n  position: 'absolute',\n  fontFamily: 'monospace',\n};\n\nexport const ROW_STYLE: React.CSSProperties = {\n  display: 'flex',\n  flexDirection: 'row',\n};\n\nexport const CELL_STYLE: React.CSSProperties = {\n  alignItems: 'center',\n  boxSizing: 'border-box',\n  display: 'flex',\n  flexDirection: 'row',\n  flexShrink: 0,\n  justifyContent: 'center',\n};\n\nexport const ROWS_STYLE: React.CSSProperties = {\n  boxSizing: 'border-box',\n  minWidth: '100%',\n  overflowX: 'hidden',\n  overflowY: 'scroll',\n};\n\nconst INLINE_STYLES: HexEditorInlineStyles = {\n  ascii: CELL_STYLE,\n  asciiValues: ROW_STYLE,\n  body: ROWS_STYLE,\n  byte: CELL_STYLE,\n  byteValues: ROW_STYLE,\n  editor: EDITOR_STYLE,\n  header: ROWS_STYLE,\n  offsetLabel: CELL_STYLE,\n  row: ROW_STYLE,\n};\n\nexport default INLINE_STYLES;\n","import React, {\n  forwardRef,\n  memo,\n  useMemo,\n} from 'react';\n\ninterface Props {\n  className?: string,\n  formatOffset?: (offset: number) => number | string,\n  offset?: number | null,\n  style?: React.CSSProperties,\n};\n\nconst HexOffsetLabel = ({\n  className,\n  formatOffset,\n  offset,\n  style,\n}: Props, ref: React.Ref<HTMLDivElement>) => {\n  const formattedOffset = useMemo(\n    () => (formatOffset && offset != null ? formatOffset(offset) : offset),\n    [offset, formatOffset],\n  );\n\n  return (\n    <div\n      className={className}\n      ref={ref}\n      style={style}\n    >\n      {formattedOffset}\n    </div>\n  );\n};\n\nHexOffsetLabel.displayName = 'HexOffsetLabel';\n\nexport default memo(forwardRef(HexOffsetLabel));\n","import React, { forwardRef, memo } from 'react';\n\ninterface Props {\n  children?: React.ReactNode,\n  className?: string,\n  style?: React.CSSProperties,\n};\n\nconst HexEditorGutter = ({\n  children = <>&nbsp;</>,\n  className,\n  style,\n}: Props, ref: React.Ref<HTMLDivElement>) => (\n  <div\n    className={className}\n    ref={ref}\n    style={style}\n  >\n    {children}\n  </div>\n);\n\nHexEditorGutter.displayName = 'HexEditorGutter';\n\nexport default memo(forwardRef(HexEditorGutter));\n","import React, {\n  forwardRef,\n  memo,\n  useCallback,\n} from 'react';\nimport joinClassNames from 'classnames';\n\nimport {\n  HexEditorClassNames,\n  SelectionDirectionType,\n  SetSelectionBoundaryCallback,\n} from '../types';\nimport {\n  EDIT_MODE_HEX,\n  EMPTY_CLASSNAMES,\n} from '../constants';\n\ninterface Props {\n  className?: string,\n  classNames?: HexEditorClassNames,\n  columnIndex?: number,\n  isCursor?: boolean,\n  isCurrentColumn?: boolean,\n  isCurrentRow?: boolean,\n  isEditing?: boolean,\n  isSelected?: boolean,\n  isSelectionCursor?: boolean,\n  isSelectionEnd?: boolean,\n  isSelectionStart?: boolean,\n  offset?: number,\n  rowIndex?: number,\n  setSelectionEnd?: SetSelectionBoundaryCallback,\n  setSelectionRange?: (\n    start: number | null,\n    end?: number | null,\n    direction?: SelectionDirectionType | null,\n    takeFocus?: boolean,\n  ) => void,\n  setSelectionStart?: SetSelectionBoundaryCallback,\n  style?: React.CSSProperties,\n  value?: number | null,\n};\n\nconst HexByte = ({\n  className,\n  classNames = EMPTY_CLASSNAMES,\n  columnIndex,\n  isCursor,\n  isCurrentColumn,\n  isCurrentRow,\n  isEditing,\n  isSelected,\n  isSelectionCursor,\n  isSelectionEnd,\n  isSelectionStart,\n  offset = 0,\n  setSelectionEnd,\n  setSelectionRange,\n  setSelectionStart,\n  style,\n  value = 0x00,\n}: Props, ref: React.Ref<HTMLDivElement>) => {\n  const handleMouseDown = useCallback((e: React.MouseEvent) => {\n    if (setSelectionStart && e.button === 0 && !e.ctrlKey) {\n      if (e.shiftKey) {\n        e.preventDefault();\n      } else {\n        setSelectionStart(offset, EDIT_MODE_HEX, e);\n      }\n    }\n  }, [offset, setSelectionStart]);\n\n  const handleMouseMove = useCallback((e: React.MouseEvent) => {\n    if (setSelectionEnd) {\n      setSelectionEnd(offset, EDIT_MODE_HEX, e);\n    }\n  }, [offset, setSelectionEnd]);\n\n  const handleClick = useCallback((e: React.MouseEvent) => {\n    e.preventDefault();\n    if (setSelectionRange) {\n      if (e.shiftKey) {\n        setSelectionRange(null, offset, null, true);\n      } else {\n        setSelectionRange(offset, null, null, true);\n      }\n    }\n  }, [offset, setSelectionRange]);\n\n  const handleDoubleClick = useCallback(() => {\n    if (setSelectionRange) {\n      setSelectionRange(offset, offset + 1, null, true);\n    }\n  }, [offset, setSelectionRange]);\n\n  return (\n    <div\n      className={joinClassNames(\n        className,\n        {\n          [classNames.currentColumn || '']: isCurrentColumn,\n          [classNames.currentRow || '']: isCurrentRow,\n          [classNames.cursor || '']: isCursor,\n          [classNames.cursorHigh || '']: isCursor && !isEditing,\n          [classNames.cursorLow || '']: isCursor && isEditing,\n          [classNames.even || '']: columnIndex != null && columnIndex % 2 === 0,\n          [classNames.highlight || '']: isCursor || isSelectionCursor,\n          [classNames.invalid || '']: value == null,\n          [classNames.odd || '']: columnIndex != null && columnIndex % 2 === 1,\n          [classNames.selection || '']: isSelected,\n          [classNames.selectionCursor || '']: isSelectionCursor,\n          [classNames.selectionEnd || '']: isSelectionEnd,\n          [classNames.selectionStart || '']: isSelectionStart,\n        },\n      )}\n      data-offset={offset}\n      onClick={setSelectionRange && handleClick}\n      onDoubleClick={setSelectionRange && handleDoubleClick}\n      onMouseDown={setSelectionStart && handleMouseDown}\n      onMouseMove={setSelectionEnd && handleMouseMove}\n      ref={ref}\n      style={style}\n    >\n      <span className={classNames.nybbleHigh}>\n        {value != null ? (value >>> 4).toString(16) : <>&nbsp;</>}\n      </span>\n      <span className={classNames.nybbleLow}>\n        {value != null ? (value & 0xf).toString(16) : <>&nbsp;</>}\n      </span>\n    </div>\n  );\n};\n\nHexByte.displayName = 'HexByte';\n\nexport default memo(forwardRef(HexByte));\n","import React, {\n  forwardRef,\n  memo,\n  useCallback,\n  useMemo,\n} from 'react';\nimport joinClassNames from 'classnames';\n\nimport {\n  HexEditorClassNames,\n  SetSelectionBoundaryCallback,\n  SetSelectionRangeCallback,\n  ValueFormatter,\n} from '../types';\nimport {\n  EDIT_MODE_ASCII,\n  EMPTY_CLASSNAMES,\n} from '../constants';\nimport { byteToAscii } from '../utils';\n\ninterface Props {\n  className?: string,\n  classNames?: HexEditorClassNames,\n  columnIndex?: number,\n  formatValue?: ValueFormatter,\n  isCursor?: boolean,\n  isEditing?: boolean,\n  isSelected?: boolean,\n  isSelectionCursor?: boolean,\n  isSelectionEnd?: boolean,\n  isSelectionStart?: boolean,\n  offset?: number,\n  placeholder?: string | JSX.Element | null,\n  rowIndex?: number,\n  setSelectionEnd?: SetSelectionBoundaryCallback,\n  setSelectionRange?: SetSelectionRangeCallback,\n  setSelectionStart?: SetSelectionBoundaryCallback,\n  style?: React.CSSProperties,\n  value?: number | null,\n};\n\nconst HexByteAscii = ({\n  className,\n  classNames = EMPTY_CLASSNAMES,\n  formatValue = byteToAscii,\n  isCursor,\n  isSelected,\n  isSelectionCursor,\n  isSelectionEnd,\n  isSelectionStart,\n  offset = 0,\n  placeholder,\n  setSelectionEnd,\n  setSelectionRange,\n  setSelectionStart,\n  style,\n  value = 0x00,\n}: Props, ref: React.Ref<HTMLDivElement>) => {\n  const formattedValue = useMemo(\n    () => (formatValue && value != null ? formatValue(value) : value),\n    [value, formatValue],\n  );\n\n  const handleMouseDown = useCallback((e: React.MouseEvent) => {\n    if (setSelectionStart && e.button === 0 && !e.ctrlKey) {\n      if (e.shiftKey) {\n        e.preventDefault();\n      } else {\n        setSelectionStart(offset, EDIT_MODE_ASCII, e);\n      }\n    }\n  }, [offset, setSelectionStart]);\n\n  const handleMouseMove = useCallback((e: React.MouseEvent) => {\n    if (setSelectionEnd) {\n      setSelectionEnd(offset, EDIT_MODE_ASCII, e);\n    }\n  }, [offset, setSelectionEnd]);\n\n  const handleClick = useCallback((e: React.MouseEvent) => {\n    e.preventDefault();\n    if (setSelectionRange) {\n      if (e.shiftKey) {\n        setSelectionRange(null, offset, null, true);\n      } else {\n        setSelectionRange(offset, null, null, true);\n      }\n    }\n  }, [offset, setSelectionRange]);\n\n  const handleDoubleClick = useCallback(() => {\n    if (setSelectionRange) {\n      setSelectionRange(offset, offset + 1, null, true);\n    }\n  }, [offset, setSelectionRange]);\n\n  return (\n    <div\n      className={joinClassNames(\n        className,\n        {\n          [classNames.cursor || '']: isCursor,\n          [classNames.highlight || '']: isCursor || isSelectionCursor,\n          [classNames.invalid || '']: value == null,\n          [classNames.selection || '']: isSelected,\n          [classNames.selectionCursor || '']: isSelectionCursor,\n          [classNames.selectionEnd || '']: isSelectionEnd,\n          [classNames.selectionStart || '']: isSelectionStart,\n        },\n      )}\n      data-offset={offset}\n      onClick={setSelectionRange && handleClick}\n      onDoubleClick={setSelectionRange && handleDoubleClick}\n      onMouseDown={setSelectionStart && handleMouseDown}\n      onMouseMove={setSelectionEnd && handleMouseMove}\n      ref={ref}\n      style={style}\n    >\n      {placeholder == null ? formattedValue : (\n        <>\n          <span style={{ position: 'absolute' }}>\n            {formattedValue}\n          </span>\n          {placeholder}\n        </>\n      )}\n    </div>\n  );\n};\n\nHexByteAscii.displayName = 'HexByteAscii';\n\nexport default memo(forwardRef(HexByteAscii));\n","import React, {\n  forwardRef,\n  memo,\n  useMemo,\n} from 'react';\nimport joinClassNames from 'classnames';\nimport { areEqual } from 'react-window';\n\nimport {\n  SelectionDirectionType,\n  SetSelectionBoundaryCallback,\n  HexEditorClassNames,\n  HexEditorInlineStyles,\n  ValueFormatter,\n} from '../types';\n\nimport {\n  EMPTY_CLASSNAMES,\n  EMPTY_INLINE_STYLES,\n  SELECTION_DIRECTION_BACKWARD,\n} from '../constants';\n\nimport { hasSelection } from '../utils';\n\nimport HexOffsetLabel from './HexOffsetLabel';\nimport HexEditorGutter from './HexEditorGutter';\nimport HexByteValue from './HexByteValue';\nimport HexAsciiValue from './HexAsciiValue';\n\nexport interface HexEditorRowProps {\n  asciiPlaceholder?: string | JSX.Element | null,\n  className?: string,\n  classNames?: HexEditorClassNames,\n  columns?: number,\n  cursorColumn?: number,\n  cursorOffset?: number,\n  cursorRow?: number,\n  data?: Uint8Array | number[],\n  disabled?: boolean,\n  formatOffset?: (offset: number) => string | number,\n  formatValue?: ValueFormatter,\n  isEditing?: boolean,\n  isHeader?: boolean,\n  labelOffset?: number | null,\n  nonce?: number | string,\n  nybbleHigh?: number | null,\n  offset?: number,\n  rowIndex?: number,\n  selectionDirection?: SelectionDirectionType,\n  selectionEnd?: number,\n  selectionStart?: number,\n  setSelectionEnd?: SetSelectionBoundaryCallback,\n  setSelectionRange?: (\n    start: number | null,\n    end?: number | null,\n    direction?: SelectionDirectionType | null,\n    takeFocus?: boolean,\n  ) => void,\n  setSelectionStart?: SetSelectionBoundaryCallback,\n  showAscii?: boolean,\n  showLabel?: boolean,\n  style?: React.CSSProperties,\n  styles?: HexEditorInlineStyles,\n};\n\nfunction areRowPropsEquivalent(prevProps: HexEditorRowProps, nextProps: HexEditorRowProps) {\n  const {\n    columns: prevColumns = prevProps.data ? prevProps.data.length : 0,\n    cursorOffset: prevCursorOffset,\n    cursorRow: prevCursorRow,\n    isEditing: prevIsEditing,\n    nybbleHigh: prevNybbleHigh,\n    offset: prevOffset = 0,\n    rowIndex: prevRowIndex,\n    selectionEnd: prevSelectionEnd,\n    selectionStart: prevSelectionStart,\n    ...prevRest\n  } = prevProps;\n  const {\n    columns: nextColumns = nextProps.data ? nextProps.data.length : 0,\n    cursorOffset: nextCursorOffset,\n    cursorRow: nextCursorRow,\n    isEditing: nextIsEditing,\n    nybbleHigh: nextNybbleHigh,\n    offset: nextOffset = 0,\n    rowIndex: nextRowIndex,\n    selectionEnd: nextSelectionEnd,\n    selectionStart: nextSelectionStart,\n    ...nextRest\n  } = nextProps;\n\n  // Row, column, or offset has changed\n  if (prevRowIndex !== nextRowIndex || prevColumns !== nextColumns || prevOffset !== nextOffset) {\n    return false;\n  }\n\n  // Cursor is or was on this row\n  if (prevRowIndex === prevCursorRow || nextRowIndex === nextCursorRow) {\n    // Cursor has moved to or from this row\n    if (prevCursorRow !== nextCursorRow) {\n      return false;\n    }\n\n    // Editing on this row\n    if (prevIsEditing !== nextIsEditing || prevNybbleHigh !== nextNybbleHigh) {\n      return false;\n    }\n  }\n\n  const prevOffsetEnd = prevOffset + prevColumns;\n  const nextOffsetEnd = nextOffset + nextColumns;\n\n  if (prevCursorOffset != null && nextCursorOffset != null) {\n    if (hasSelection(prevOffset, prevOffsetEnd, prevCursorOffset)) {\n      return false;\n    }\n\n    if (hasSelection(nextOffset, nextOffsetEnd, nextCursorOffset)) {\n      return false;\n    }\n  }\n\n  if (\n    prevSelectionStart != null && prevSelectionEnd != null\n    && nextSelectionStart != null && nextSelectionEnd != null\n  ) {\n    const prevHasSelection = hasSelection(prevOffset, prevOffsetEnd, prevSelectionStart, prevSelectionEnd);\n    const nextHasSelection = hasSelection(nextOffset, nextOffsetEnd, nextSelectionStart, nextSelectionEnd);\n\n    if (prevHasSelection !== nextHasSelection) {\n      return false;\n    }\n\n    if (prevSelectionStart !== nextSelectionStart) {\n      if (hasSelection(prevOffset, prevOffsetEnd, prevSelectionStart)) {\n        return false;\n      }\n\n      if (hasSelection(nextOffset, nextOffsetEnd, nextSelectionStart)) {\n        return false;\n      }\n    }\n\n    if (prevSelectionEnd !== nextSelectionEnd) {\n      if (hasSelection(prevOffset, prevOffsetEnd, prevSelectionEnd)) {\n        return false;\n      }\n\n      if (hasSelection(nextOffset, nextOffsetEnd, nextSelectionEnd)) {\n        return false;\n      }\n    }\n  }\n\n  return areEqual(prevRest, nextRest);\n}\n\nconst HexEditorRow = ({\n  asciiPlaceholder,\n  className = '',\n  classNames = EMPTY_CLASSNAMES,\n  columns,\n  cursorColumn,\n  cursorOffset,\n  cursorRow,\n  data = [],\n  disabled = false,\n  formatOffset,\n  formatValue,\n  isEditing,\n  isHeader = false,\n  labelOffset,\n  nybbleHigh,\n  offset: dataOffset = 0,\n  rowIndex,\n  selectionDirection,\n  selectionEnd = -1,\n  selectionStart = -1,\n  setSelectionEnd,\n  setSelectionRange,\n  setSelectionStart,\n  showAscii = true,\n  showLabel = true,\n  style,\n  styles = EMPTY_INLINE_STYLES,\n}: HexEditorRowProps, ref: React.Ref<HTMLDivElement>) => {\n  const dataOffsets = useMemo(() => {\n    return new Array(columns == null ? data.length - dataOffset : columns)\n      .fill(0)\n      .map((_v, i) => (dataOffset + i));\n  }, [dataOffset, columns, data.length]);\n\n  const isSelecting = selectionEnd > selectionStart;\n  const isCurrentRow = cursorRow != null && rowIndex === cursorRow;\n\n  return (\n    <div className={className} ref={ref} style={style}>\n      {!showLabel ? null : (\n        <>\n          <HexOffsetLabel\n            className={joinClassNames({\n              [classNames.offsetLabelHeader || '']: isHeader,\n              [classNames.offsetLabel || '']: !isHeader,\n              [classNames.currentRow || '']: isCurrentRow,\n            })}\n            formatOffset={formatOffset}\n            offset={labelOffset == null ? dataOffset : labelOffset}\n            style={styles.offsetLabel}\n          />\n          <HexEditorGutter\n            className={isHeader ? classNames.gutterHeader : classNames.gutter}\n            style={styles.gutter}\n          />\n        </>\n      )}\n      {!(columns || data.length) ? null : (\n        <div className={classNames.byteValues} style={styles.byteValues}>\n          {dataOffsets.map((offset, columnIndex) => {\n            const isCurrentColumn = cursorColumn != null && columnIndex === cursorColumn;\n            const isCursor = offset === cursorOffset && !isSelecting;\n            const isSelected = offset >= selectionStart && offset < selectionEnd;\n            const isSelectionStart = offset === selectionStart;\n            const isSelectionEnd = offset === selectionEnd - 1;\n            const isSelectionCursor = isSelecting && (\n              selectionDirection === SELECTION_DIRECTION_BACKWARD\n                ? isSelectionStart\n                : isSelectionEnd\n            );\n\n            let value = null;\n            if (offset < data.length) {\n              value = isCursor && nybbleHigh != null\n                ? (nybbleHigh << 4) | (0x0f & data[offset])\n                : data[offset];\n            }\n\n            return (\n              <HexByteValue\n                className={isHeader ? classNames.byteHeader : classNames.byte}\n                classNames={classNames}\n                columnIndex={columnIndex}\n                isCurrentColumn={isCurrentColumn}\n                isCurrentRow={isCurrentRow}\n                isCursor={isCursor && !disabled}\n                isEditing={isEditing && !disabled}\n                isSelected={isSelected && !disabled}\n                isSelectionCursor={isSelectionCursor && !disabled}\n                isSelectionEnd={isSelectionEnd && !disabled}\n                isSelectionStart={isSelectionStart && !disabled}\n                key={offset}\n                offset={offset}\n                rowIndex={rowIndex}\n                setSelectionEnd={setSelectionEnd}\n                setSelectionRange={setSelectionRange}\n                setSelectionStart={setSelectionStart}\n                style={styles.byte}\n                value={value}\n              />\n            );\n          })}\n        </div>\n      )}\n      {!showAscii ? null : (\n        <>\n          <HexEditorGutter\n            className={isHeader ? classNames.gutterHeader : classNames.gutter}\n            style={styles.gutter}\n          />\n          <div className={classNames.asciiValues} style={styles.asciiValues}>\n            {dataOffsets.map((offset, columnIndex) => {\n              const isCursor = offset === cursorOffset && !isSelecting;\n              const isSelected = offset >= selectionStart && offset < selectionEnd;\n              const isSelectionStart = offset === selectionStart;\n              const isSelectionEnd = offset === selectionEnd - 1;\n              const isSelectionCursor = isSelecting && (\n                selectionDirection === SELECTION_DIRECTION_BACKWARD\n                  ? isSelectionStart\n                  : isSelectionEnd\n              );\n\n              const value = offset < data.length ? data[offset] : null;\n\n              return (\n                <HexAsciiValue\n                  className={isHeader ? classNames.asciiHeader : classNames.ascii}\n                  classNames={classNames}\n                  columnIndex={columnIndex}\n                  formatValue={formatValue}\n                  isCursor={isCursor && !disabled}\n                  isEditing={isEditing && !disabled}\n                  isSelected={isSelected && !disabled}\n                  isSelectionCursor={isSelectionCursor && !disabled}\n                  isSelectionEnd={isSelectionEnd && !disabled}\n                  isSelectionStart={isSelectionStart && !disabled}\n                  key={offset}\n                  offset={offset}\n                  placeholder={asciiPlaceholder}\n                  rowIndex={rowIndex}\n                  setSelectionEnd={setSelectionEnd}\n                  setSelectionRange={setSelectionRange}\n                  setSelectionStart={setSelectionStart}\n                  style={styles.ascii}\n                  value={value}\n                />\n              );\n            })}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nHexEditorRow.displayName = 'HexEditorRow';\n\nexport default memo(forwardRef(HexEditorRow), areRowPropsEquivalent);\n","import { createContext } from 'react';\n\nimport {\n  HexEditorClassNames,\n  HexEditorInlineStyles,\n  SelectionDirectionType,\n  SetSelectionBoundaryCallback,\n  SetSelectionRangeCallback,\n  ValueFormatter,\n} from '../types';\nimport { SELECTION_DIRECTION_NONE } from '../constants';\nimport { formatHex } from '../utils';\n\nexport interface HexEditorContextInterface {\n  asciiPlaceholder: string | JSX.Element | null,\n  classNames: HexEditorClassNames,\n  columns: number,\n  cursorColumn?: number,\n  cursorOffset: number,\n  cursorRow?: number,\n  data: Uint8Array | number[],\n  formatOffset: (offset: number) => string,\n  formatValue: ValueFormatter,\n  isEditing: boolean,\n  nonce?: number | string,\n  nybbleHigh: number | null,\n  rows: number,\n  selectionAnchor: number | null,\n  selectionDirection: SelectionDirectionType,\n  selectionEnd: number,\n  selectionStart: number,\n  setSelectionEnd: SetSelectionBoundaryCallback,\n  setSelectionRange: SetSelectionRangeCallback,\n  setSelectionStart: SetSelectionBoundaryCallback,\n  showAscii: boolean,\n  showRowLabels: boolean,\n  styles: HexEditorInlineStyles,\n}\n\nconst HexEditorContext = createContext<HexEditorContextInterface>({\n  asciiPlaceholder: null,\n  classNames: {},\n  columns: 1,\n  cursorColumn: undefined,\n  cursorOffset: 0,\n  cursorRow: undefined,\n  data: [],\n  formatOffset: formatHex,\n  formatValue: formatHex,\n  isEditing: false,\n  nonce: undefined,\n  nybbleHigh: null,\n  rows: 1,\n  selectionAnchor: null,\n  selectionDirection: SELECTION_DIRECTION_NONE,\n  selectionEnd: 0,\n  selectionStart: 0,\n  setSelectionEnd: () => {},\n  setSelectionRange: () => {},\n  setSelectionStart: () => {},\n  showAscii: false,\n  showRowLabels: false,\n  styles: {},\n})\n\nexport default HexEditorContext;\n","import React, { useContext } from 'react';\nimport { ListChildComponentProps } from 'react-window';\n\nimport HexEditorContext from '../contexts/HexEditorContext';\n\nimport HexEditorRow from './HexEditorRow';\n\nconst HexEditorBodyRow = ({ index: rowIndex, style: itemStyle }: ListChildComponentProps) => {\n  const {\n    asciiPlaceholder,\n    classNames,\n    columns,\n    cursorColumn,\n    cursorOffset,\n    cursorRow,\n    data,\n    formatOffset,\n    formatValue,\n    isEditing,\n    nonce,\n    nybbleHigh,\n    selectionDirection,\n    selectionEnd,\n    selectionStart,\n    setSelectionEnd,\n    setSelectionRange,\n    setSelectionStart,\n    showAscii,\n    showRowLabels,\n    styles,\n  } = useContext(HexEditorContext);\n\n  return (\n    <HexEditorRow\n      asciiPlaceholder={asciiPlaceholder}\n      className={classNames.row}\n      classNames={classNames}\n      columns={columns}\n      cursorColumn={cursorColumn}\n      cursorOffset={cursorOffset}\n      cursorRow={cursorRow}\n      data={data}\n      formatOffset={formatOffset}\n      formatValue={formatValue}\n      isEditing={isEditing}\n      nonce={nonce}\n      nybbleHigh={nybbleHigh}\n      offset={rowIndex * columns}\n      rowIndex={rowIndex}\n      selectionDirection={selectionDirection}\n      selectionEnd={selectionEnd}\n      selectionStart={selectionStart}\n      setSelectionEnd={setSelectionEnd}\n      setSelectionRange={setSelectionRange}\n      setSelectionStart={setSelectionStart}\n      showAscii={showAscii}\n      showLabel={showRowLabels}\n      style={styles.row ? { ...itemStyle, ...styles.row } : itemStyle}\n      styles={styles}\n    />\n  );\n};\n\nHexEditorBodyRow.displayName = 'HexEditorBodyRow';\n\nexport default HexEditorBodyRow;\n","import React, {\n  forwardRef,\n  memo,\n  useMemo,\n} from 'react';\nimport {\n  FixedSizeList as List,\n  ListChildComponentProps,\n  ListOnItemsRenderedProps,\n  ListOnScrollProps,\n} from 'react-window';\n\nimport { HexEditorBodyChildren } from '../types';\n\nimport HexEditorBodyRow from './HexEditorBodyRow';\n\nexport interface HexEditorBodyProps {\n  children?: HexEditorBodyChildren,\n  className?: string,\n  height: number,\n  itemRenderer?: React.ComponentType<ListChildComponentProps>,\n  onItemsRendered: (props: ListOnItemsRenderedProps) => any,\n  onScroll?: (props: ListOnScrollProps) => any,\n  overscanCount: number,\n  rowCount: number,\n  rowHeight: number,\n  rows: number,\n  style?: React.CSSProperties,\n  width: number,\n};\n\nconst HexEditorBody: React.RefForwardingComponent<List, HexEditorBodyProps> = ({\n  children: bodyChildren,\n  className = undefined,\n  height,\n  itemRenderer = HexEditorBodyRow,\n  onItemsRendered,\n  onScroll,\n  overscanCount,\n  rowCount,\n  rowHeight,\n  rows,\n  style,\n  width,\n}, ref: React.Ref<List>) => {\n  const innerElementType = useMemo(() => {\n    if (bodyChildren) {\n      return forwardRef(({\n        children: listChildren,\n        ...props\n      }, ref: React.Ref<HTMLDivElement>) => (\n        <div ref={ref} {...props}>\n          {listChildren}\n          {(\n            typeof bodyChildren === 'function'\n              ? bodyChildren()\n              : bodyChildren\n          )}\n        </div>\n      ));\n    }\n    return 'div';\n  }, [bodyChildren]);\n\n  return (\n    <List\n      className={className}\n      height={height}\n      innerElementType={innerElementType}\n      itemCount={rowCount}\n      itemSize={rowHeight}\n      layout=\"vertical\"\n      onItemsRendered={onItemsRendered}\n      onScroll={onScroll}\n      overscanCount={overscanCount}\n      ref={ref}\n      style={{ ...style, overflowY: 'scroll' }}\n      width={width}\n    >\n      {itemRenderer}\n    </List>\n  );\n};\n\nHexEditorBody.displayName = 'HexEditorBody';\n\nexport default memo(forwardRef(HexEditorBody));\n","import React, {\n  forwardRef,\n  memo,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useLayoutEffect,\n  useMemo,\n  useReducer,\n  useRef,\n} from 'react';\nimport joinClassNames from 'classnames';\nimport {\n  Align,\n  ListOnItemsRenderedProps,\n  FixedSizeList as List,\n} from 'react-window';\nimport Keycoder from 'keycoder';\n\nimport {\n  KEY_A,\n  KEY_BACK_SPACE,\n  KEY_DELETE,\n  KEY_DOWN,\n  KEY_E,\n  KEY_END,\n  KEY_HOME,\n  KEY_LEFT,\n  KEY_PAGE_DOWN,\n  KEY_PAGE_UP,\n  KEY_RIGHT,\n  KEY_TAB,\n  KEY_UP,\n} from 'keycode-js';\n\nimport {\n  EditModeType,\n  HexEditorHandle,\n  HexEditorProps,\n  SelectionDirectionType,\n} from '../types';\n\nimport {\n  EDIT_MODE_ASCII,\n  EDIT_MODE_HEX,\n  KEY_VALUES,\n  SELECTION_DIRECTION_BACKWARD,\n  SELECTION_DIRECTION_FORWARD,\n  SELECTION_DIRECTION_NONE,\n} from '../constants';\n\nimport {\n  byteToAscii,\n  formatHex,\n  formatHexByte,\n  isMacLike,\n} from '../utils';\n\nimport CLASS_NAMES from '../constants/classNames';\n\nimport INLINE_STYLES, { INPUT_STYLE } from '../constants/inlineStyles';\n\nimport HexEditorRow from './HexEditorRow';\nimport HexEditorContext, { HexEditorContextInterface } from '../contexts/HexEditorContext';\nimport HexEditorBody from './HexEditorBody';\n\ninterface HexEditorState {\n  cursorOffset: number,\n  editMode: EditModeType,\n  isFocused: boolean,\n  nybbleHigh: number | null,\n  nybbleOffset: number,\n  overscanStartIndex: number,\n  overscanStopIndex: number,\n  selectionAnchor: number | null,\n  selectionDirection: SelectionDirectionType,\n  selectionEnd: number,\n  selectionStart: number,\n  viewportRowOffset: number,\n  visibleStartIndex: number,\n  visibleStopIndex: number,\n};\n\ninterface HexEditorAction {\n  cursorOffset?: number,\n  editMode?: EditModeType,\n  isFocused?: boolean,\n  nybbleHigh?: number | null,\n  nybbleOffset?: number,\n  selectionAnchor?: number | null,\n  selectionDirection?: SelectionDirectionType,\n  selectionEnd?: number,\n  selectionStart?: number,\n  viewportRowOffset?: number,\n  visibleStartIndex?: number,\n  visibleStopIndex?: number,\n};\n\nconst reducer = (\n  prevState: HexEditorState,\n  mergeState: HexEditorAction,\n) => ({ ...prevState, ...mergeState });\n\nconst HexEditor: React.RefForwardingComponent<HexEditorHandle, HexEditorProps> = ({\n  asciiPlaceholder = <>&nbsp;</>,\n  autoFocus = false,\n  children,\n  className,\n  classNames = CLASS_NAMES,\n  columns,\n  data = [],\n  formatValue = byteToAscii,\n  height,\n  highlightColumn = false,\n  inlineStyles = INLINE_STYLES,\n  inputStyle = INPUT_STYLE,\n  nonce,\n  onBlur,\n  onFocus,\n  onItemsRendered,\n  onSetValue,\n  overscanCount,\n  readOnly = false,\n  rowHeight,\n  rows,\n  showAscii = false,\n  showColumnLabels = false,\n  showRowLabels = false,\n  style,\n  tabIndex,\n  width,\n}, ref) => {\n  const [state, setState] = useReducer(reducer, {\n    cursorOffset: 0,\n    editMode: EDIT_MODE_HEX,\n    isFocused: false,\n    nybbleHigh: null,\n    nybbleOffset: 0,\n    overscanStartIndex: 0,\n    overscanStopIndex: 0,\n    selectionAnchor: null,\n    selectionDirection: SELECTION_DIRECTION_NONE,\n    selectionEnd: 0,\n    selectionStart: 0,\n    viewportRowOffset: 0,\n    visibleStartIndex: 0,\n    visibleStopIndex: 0,\n  });\n\n  const columnData = useMemo(\n    () => new Array(columns).fill(0).map((_v, i) => i),\n    [columns],\n  );\n\n  const rowListRef = useRef<List>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const stateRef = useRef({\n    columns,\n    data,\n    readOnly,\n    rows,\n    showAscii,\n    ...state,\n  });\n\n  useLayoutEffect(() => {\n    stateRef.current = {\n      columns,\n      data,\n      readOnly,\n      rows,\n      showAscii,\n      ...state,\n    };\n  }, [columns, data, data.length, readOnly, rows, showAscii, state]);\n\n  const blur = useCallback(() => {\n    if (inputRef.current) {\n      inputRef.current.blur();\n    }\n  }, []);\n\n  const focus = useCallback(() => {\n    if (inputRef.current) {\n      inputRef.current.focus();\n      inputRef.current.setSelectionRange(0, inputRef.current.value.length);\n    }\n  }, []);\n\n  const setSelectionRange = useCallback((\n    start: number | null,\n    end?: number | null,\n    direction?: SelectionDirectionType | null,\n    takeFocus?: boolean,\n  ) => {\n    if (takeFocus) {\n      focus();\n    }\n\n    const {\n      data: currentData,\n      editMode: currentEditMode,\n      selectionStart: prevSelectionStart,\n      selectionEnd: prevSelectionEnd,\n      selectionDirection: prevSelectionDirection,\n    } = stateRef.current;\n    const dataLength = data.length;\n\n    let selectionStart = start;\n    let selectionEnd = end;\n    let selectionDirection = direction;\n\n    if (selectionStart == null) {\n      // extend selection from anchor\n      selectionStart = prevSelectionDirection === SELECTION_DIRECTION_BACKWARD\n        ? prevSelectionEnd\n        : prevSelectionStart;\n    }\n\n    selectionStart = Math.max(0, Math.min(selectionStart || 0, dataLength));\n    selectionEnd = selectionEnd == null ? selectionStart : Math.max(0, Math.min(selectionEnd, dataLength));\n\n    // Swap start/end if they are given backwards\n    if (selectionEnd < selectionStart) {\n      [selectionStart, selectionEnd] = [selectionEnd, selectionStart];\n      if (selectionDirection == null) {\n        selectionDirection = SELECTION_DIRECTION_BACKWARD;\n      }\n    }\n\n    // Default selection direction\n    if (selectionDirection == null) {\n      selectionDirection = selectionEnd > selectionStart\n        ? SELECTION_DIRECTION_FORWARD\n        : SELECTION_DIRECTION_NONE;\n    }\n\n    const cursorOffset = selectionDirection === SELECTION_DIRECTION_BACKWARD\n      ? selectionStart\n      : selectionEnd;\n\n    let selectedValue = '';\n    for (let i = selectionStart; i < selectionEnd; i += 1) {\n      selectedValue += currentEditMode === EDIT_MODE_ASCII\n        ? String.fromCharCode(currentData[i])\n        : formatHexByte(currentData[i]);\n    }\n\n    if (selectionStart === selectionEnd && selectionStart >= dataLength) {\n      selectionStart = selectionEnd = dataLength - 1;\n    }\n\n    setState({\n      cursorOffset,\n      nybbleHigh: null,\n      nybbleOffset: 0,\n      selectionStart,\n      selectionEnd,\n      selectionDirection,\n    });\n\n    try {\n      if (inputRef.current) {\n        inputRef.current.value = selectedValue;\n        inputRef.current.setSelectionRange(0, selectedValue.length);\n      }\n    } catch (e) {\n      // shrug\n    }\n  }, [focus, data.length]);\n\n  useEffect(() => {\n    if (state.selectionAnchor != null) {\n      const handleWindowMouseUp = (_e: MouseEvent) => {\n        setState({ selectionAnchor: null });\n        focus();\n      };\n      window.addEventListener('mouseup', handleWindowMouseUp);\n      return () => {\n        window.removeEventListener('mouseup', handleWindowMouseUp);\n      };\n    }\n  }, [state.selectionAnchor, focus]);\n\n  const setSelectionStart = useCallback((\n    offset: number,\n    editMode?: EditModeType,\n    _e?: React.MouseEvent,\n  ) => {\n    const {\n      selectionAnchor,\n    } = stateRef.current;\n\n    if (selectionAnchor == null) {\n      if (editMode != null) {\n        setState({ editMode });\n      }\n\n      setState({ selectionAnchor: offset });\n      setSelectionRange(offset, offset, null, false);\n    }\n  }, [setSelectionRange]);\n\n  const setSelectionEnd = useCallback((\n    offset: number,\n    editMode?: EditModeType,\n    e?: React.MouseEvent,\n  ) => {\n    const {\n      editMode: prevEditMode,\n      selectionAnchor,\n      selectionEnd,\n      selectionStart,\n    } = stateRef.current;\n\n    if (selectionAnchor != null) {\n      if (e && editMode !== prevEditMode) {\n        return;\n      }\n\n      if (editMode != null) {\n        setState({ editMode });\n      }\n\n      const start = Math.min(selectionAnchor, offset);\n      const end = Math.max(selectionAnchor, offset);\n      const selectionDirection = offset > selectionAnchor\n        ? SELECTION_DIRECTION_FORWARD\n        : SELECTION_DIRECTION_BACKWARD;\n\n      if (!e || start !== end || selectionStart !== selectionEnd || Math.abs(e.movementX) > 2) {\n        setSelectionRange(start, end + 1, selectionDirection, false);\n      }\n    }\n  }, [setSelectionRange]);\n\n  const setValue = useCallback((offset: number, value: number) => {\n    if (typeof onSetValue === 'function') {\n      onSetValue(offset, value);\n    }\n  }, [onSetValue]);\n\n  const scrollTo = useCallback((scrollTop: number) => {\n    if (rowListRef.current) {\n      rowListRef.current.scrollTo(scrollTop);\n    }\n  }, []);\n\n  const scrollToItem = useCallback((rowIndex: number, align?: Align) => {\n    if (rowListRef.current) {\n      rowListRef.current.scrollToItem(rowIndex, align);\n    }\n  }, []);\n\n  useImperativeHandle(ref, () => ({\n    blur,\n    focus,\n    scrollTo,\n    scrollToItem,\n    setSelectionRange,\n    setValue,\n  }), [blur, focus, scrollTo, scrollToItem, setSelectionRange, setValue]);\n\n  const handleBlur = useCallback((e: React.FocusEvent<HTMLInputElement>) => {\n    setState({ isFocused: false });\n    if (onBlur) {\n      onBlur(e);\n    }\n  }, [onBlur]);\n\n  const handleFocus = useCallback((e: React.FocusEvent<HTMLInputElement>) => {\n    setState({ isFocused: true });\n    if (onFocus) {\n      onFocus(e);\n    }\n  }, [onFocus]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\n    const {\n      which,\n      shiftKey,\n      ctrlKey,\n      metaKey,\n    } = e;\n\n    const {\n      columns,\n      data,\n      editMode,\n      nybbleHigh,\n      nybbleOffset,\n      readOnly,\n      rows,\n      selectionStart,\n      selectionEnd,\n      selectionDirection,\n      showAscii,\n    } = stateRef.current;\n    const dataLength = data.length;\n\n    const isSelection = selectionStart !== selectionEnd;\n    const isMacKeyboard = isMacLike();\n\n    const offsetAmounts: { [key: number]: number } = {\n      [KEY_DOWN]: columns,\n      [KEY_LEFT]: 1,\n      [KEY_PAGE_DOWN]: rows * columns,\n      [KEY_PAGE_UP]: rows * columns,\n      [KEY_RIGHT]: 1,\n      [KEY_UP]: columns,\n    };\n\n    switch (true) {\n      // Select all\n      case !isMacKeyboard && ctrlKey && which === KEY_A:\n      case isMacKeyboard && metaKey && which === KEY_A: {\n        setSelectionRange(0, dataLength);\n        e.preventDefault();\n        return;\n      }\n\n      // Go to first character\n      case isMacKeyboard && metaKey && which === KEY_UP:\n      case !isMacKeyboard && ctrlKey && which === KEY_HOME: {\n        if (shiftKey) {\n          const end = selectionDirection === SELECTION_DIRECTION_BACKWARD\n            ? selectionEnd\n            : selectionStart;\n          setSelectionRange(0, end, SELECTION_DIRECTION_BACKWARD);\n        } else {\n          setSelectionRange(0);\n        }\n        e.preventDefault();\n        return;\n      }\n\n      // Go to last character\n      case isMacKeyboard && metaKey && which === KEY_DOWN:\n      case !isMacKeyboard && ctrlKey && which === KEY_END: {\n        if (shiftKey) {\n          const start = selectionDirection === SELECTION_DIRECTION_BACKWARD\n            ? selectionEnd\n            : selectionStart;\n          setSelectionRange(start, dataLength, SELECTION_DIRECTION_FORWARD);\n        } else {\n          setSelectionRange(dataLength - 1);\n        }\n        e.preventDefault();\n        return;\n      }\n\n      // Toggle between hex and ascii panes\n      case (which === KEY_TAB): {\n        if (!shiftKey && showAscii && editMode === EDIT_MODE_HEX) {\n          setState({ editMode: EDIT_MODE_ASCII });\n          e.preventDefault();\n        } else if (shiftKey && editMode === EDIT_MODE_ASCII) {\n          setState({ editMode: EDIT_MODE_HEX });\n          e.preventDefault();\n        }\n        return;\n      }\n\n      // Go to start of line\n      case isMacKeyboard && ctrlKey && which === KEY_A:\n      case isMacKeyboard && metaKey && which === KEY_LEFT:\n      case which === KEY_HOME: {\n        const selectionAnchor = selectionDirection === SELECTION_DIRECTION_BACKWARD\n          ? selectionStart\n          : selectionEnd;\n        if (shiftKey) {\n          const cursorPosition = columns * Math.floor(Math.max(0, (selectionAnchor - 1)) / columns);\n          if (selectionDirection === SELECTION_DIRECTION_BACKWARD) {\n            setSelectionRange(selectionEnd, cursorPosition);\n          } else {\n            setSelectionRange(selectionStart, cursorPosition);\n          }\n        } else {\n          const cursorPosition = columns * Math.floor(selectionAnchor / columns);\n          setSelectionRange(cursorPosition);\n        }\n        e.preventDefault();\n        return;\n      }\n\n      // Go to end of line\n      case isMacKeyboard && ctrlKey && which === KEY_E:\n      case isMacKeyboard && metaKey && which === KEY_RIGHT:\n      case which === KEY_END: {\n        const selectionAnchor = selectionDirection === SELECTION_DIRECTION_BACKWARD\n          ? selectionStart\n          : selectionEnd;\n        if (shiftKey) {\n          const cursorPosition = columns * (Math.floor(selectionAnchor / columns) + 1);\n          if (selectionDirection === SELECTION_DIRECTION_BACKWARD) {\n            setSelectionRange(selectionEnd, cursorPosition);\n          } else {\n            setSelectionRange(selectionStart, cursorPosition);\n          }\n        } else {\n          const cursorPosition = columns * (Math.floor(selectionAnchor / columns) + 1) - 1;\n          setSelectionRange(Math.min(cursorPosition, dataLength - 1));\n        }\n        e.preventDefault();\n        return;\n      }\n\n      // Ignore modified keys\n      case ctrlKey || metaKey:\n        return;\n\n      // Go back one row or column\n      case which === KEY_PAGE_UP:\n      case which === KEY_UP:\n      case which === KEY_LEFT: {\n        const offset = offsetAmounts[which] || 1;\n        if (shiftKey) {\n          if (selectionDirection === SELECTION_DIRECTION_BACKWARD) {\n            setSelectionRange(selectionEnd, selectionStart - offset);\n          } else {\n            setSelectionRange(selectionStart, selectionEnd - offset);\n          }\n        } else {\n          const cursorPosition = isSelection\n            ? selectionStart\n            : selectionStart - offset;\n          setSelectionRange(Math.max(0, cursorPosition));\n        }\n        e.preventDefault();\n        return;\n      }\n\n      // Go forward one row or column\n      case which === KEY_PAGE_DOWN:\n      case which === KEY_DOWN:\n      case which === KEY_RIGHT: {\n        const offset = offsetAmounts[which] || 1;\n        if (shiftKey) {\n          if (selectionDirection === SELECTION_DIRECTION_BACKWARD) {\n            setSelectionRange(selectionEnd, selectionStart + offset);\n          } else {\n            setSelectionRange(selectionStart, selectionEnd + offset);\n          }\n        } else {\n          const cursorPosition = isSelection\n            ? selectionEnd - 1\n            : selectionEnd + offset;\n          setSelectionRange(Math.min(cursorPosition, data.length - 1));\n        }\n        e.preventDefault();\n        return;\n      }\n\n      // Clear previous character\n      case which === KEY_BACK_SPACE: {\n        if (!readOnly) {\n          if (nybbleOffset && nybbleHigh != null) {\n            setState({\n              nybbleHigh: null,\n              nybbleOffset: 0,\n            });\n          } else if (shiftKey) {\n            setValue(selectionEnd, 0x00);\n            setSelectionRange(selectionEnd);\n          } else {\n            setValue(selectionEnd - 1, 0x00);\n            setSelectionRange(selectionEnd - 1);\n          }\n        }\n        e.preventDefault();\n        return;\n      }\n\n      // Clear next character\n      case which === KEY_DELETE: {\n        if (!readOnly) {\n          if (nybbleOffset && nybbleHigh != null) {\n            setState({\n              nybbleHigh: null,\n              nybbleOffset: 0,\n            });\n          } else if (shiftKey) {\n            setValue(selectionEnd, 0x00);\n            setSelectionRange(selectionEnd);\n          } else {\n            setValue(selectionEnd, 0x00);\n            setSelectionRange(selectionEnd + 1);\n          }\n        }\n        e.preventDefault();\n        return;\n      }\n\n      // Edit hex value\n      case editMode === EDIT_MODE_HEX && which in KEY_VALUES: {\n        if (!readOnly) {\n          const nybbleValue = KEY_VALUES[which];\n          if (nybbleOffset && nybbleHigh != null) {\n            const value = (nybbleHigh << 4) | nybbleValue;\n            setValue(selectionEnd, value);\n            setSelectionRange(Math.min(selectionEnd + 1, dataLength - 1));\n          } else {\n            if (isSelection) {\n              setSelectionRange((\n                selectionDirection === SELECTION_DIRECTION_BACKWARD\n                  ? selectionStart\n                  : selectionEnd - 1\n              ));\n            }\n            setState({\n              nybbleOffset: 1,\n              nybbleHigh: nybbleValue,\n            });\n          }\n        }\n        e.preventDefault();\n        return;\n      }\n\n      // Edit ascii value\n      case editMode === EDIT_MODE_ASCII: {\n        if (!readOnly) {\n          const key = Keycoder.fromEvent(e.nativeEvent);\n          if (key.isPrintableCharacter && key.charCode != null) {\n            const value = shiftKey ? key.shift.charCode : key.charCode;\n            if (value != null) {\n              setValue(selectionEnd, value);\n              setSelectionRange(Math.min(selectionEnd + 1, dataLength - 1));\n            }\n          }\n        }\n        e.preventDefault();\n        return;\n      }\n\n      // Ignore\n      default:\n        return;\n    }\n  }, [setValue, setSelectionRange]);\n\n  const handlePaste = useCallback((e: React.ClipboardEvent<HTMLInputElement>) => {\n    const {\n      cursorOffset,\n      data,\n      editMode: currentEditMode,\n      readOnly,\n    } = stateRef.current;\n    const dataLength = data.length;\n    const maxOffset = dataLength - cursorOffset;\n    e.preventDefault();\n    if (readOnly) {\n      return;\n    }\n    const clipboardText = e.clipboardData.getData('Text');\n    const values = currentEditMode === EDIT_MODE_ASCII\n      ? clipboardText.split('').map(v => v.charCodeAt(0))\n      : (clipboardText.replace(/[^0-9a-f]/gi, '').match(/.{2}/g) || []).map(v => parseInt(v, 16));\n    values.forEach((value, i) => {\n      if (i < maxOffset) {\n        setValue(cursorOffset + i, value);\n      }\n    });\n    setSelectionRange(Math.min(cursorOffset + values.length, dataLength - 1));\n  }, [setValue, setSelectionRange]);\n\n  const handleItemsRendered = useCallback((props: ListOnItemsRenderedProps) => {\n    setState(props);\n    if (onItemsRendered) {\n      onItemsRendered(props);\n    }\n  }, [onItemsRendered]);\n\n  useLayoutEffect(() => {\n    if (autoFocus) {\n      focus();\n    }\n  }, [autoFocus, focus]);\n\n  useLayoutEffect(() => {\n    if (rowListRef.current) {\n      const {\n        visibleStartIndex,\n        visibleStopIndex,\n      } = stateRef.current;\n      const rowIndex = Math.floor(state.cursorOffset / columns);\n      if (rowIndex <= visibleStartIndex) {\n        rowListRef.current.scrollToItem(rowIndex, 'center');\n      } else if (rowIndex >= visibleStopIndex) {\n        rowListRef.current.scrollToItem(rowIndex, 'center');\n      }\n    }\n  }, [columns, state.cursorOffset]);\n\n  const rowCount = useMemo(\n    () => Math.ceil(data.length / columns),\n    [data.length, columns],\n  );\n\n  const formatOffset = useMemo(() => {\n    const padToLength = 2 * Math.ceil(formatHex(Math.max(0, data.length - 1)).length / 2);\n    return (offset: number) => formatHex(offset, padToLength);\n  }, [data.length]);\n\n  const { formatHeaderOffset, formatHeaderValue } = useMemo(() => ({\n    formatHeaderOffset: () => formatOffset(0).replace(/./g, '\\u00A0'),\n    formatHeaderValue: () => '\\u00A0',\n  }), [formatOffset]);\n\n  const {\n    cursorColumn,\n    cursorRow,\n  } = useMemo(() => {\n    const isForwardSelection = (\n      state.selectionStart !== state.selectionEnd\n      && state.selectionDirection !== SELECTION_DIRECTION_BACKWARD\n    );\n    const nextCursorColumn = isForwardSelection\n      ? (state.cursorOffset - 1) % columns\n      : state.cursorOffset % columns;\n    const nextCursorRow = isForwardSelection\n      ? Math.floor((state.cursorOffset - 1) / columns)\n      : Math.floor(state.cursorOffset / columns);\n    return {\n      cursorColumn: nextCursorColumn,\n      cursorRow: nextCursorRow,\n    };\n  }, [\n    columns,\n    state.cursorOffset,\n    state.selectionStart,\n    state.selectionEnd,\n    state.selectionDirection,\n  ]);\n\n  const editorStyle = useMemo(() => (\n    style && inlineStyles.editor\n      ? { ...inlineStyles.editor, ...style }\n      : (style || inlineStyles.editor || undefined)\n  ), [style, inlineStyles.editor]);\n\n  const headerStyle: React.CSSProperties = useMemo(() => ({\n    ...inlineStyles.header,\n    height: rowHeight,\n    width,\n  }), [inlineStyles.header, rowHeight, width]);\n\n  const bodyStyle: React.CSSProperties = useMemo(() => ({\n    ...inlineStyles.body,\n    overflowY: 'scroll',\n  }), [inlineStyles.body]);\n\n  const hexEditorContext: HexEditorContextInterface = useMemo(() => ({\n    asciiPlaceholder,\n    classNames,\n    columns,\n    cursorColumn: highlightColumn ? cursorColumn : undefined,\n    cursorOffset: state.cursorOffset,\n    cursorRow,\n    data,\n    formatOffset,\n    formatValue,\n    isEditing: !!state.nybbleOffset,\n    nonce,\n    nybbleHigh: state.nybbleHigh,\n    rows,\n    selectionAnchor: state.selectionAnchor,\n    selectionDirection: state.selectionDirection,\n    selectionEnd: state.selectionEnd,\n    selectionStart: state.selectionStart,\n    setSelectionEnd,\n    setSelectionRange,\n    setSelectionStart,\n    showAscii,\n    showRowLabels,\n    styles: inlineStyles,\n  }), [\n    asciiPlaceholder,\n    classNames,\n    columns,\n    cursorColumn,\n    cursorRow,\n    data,\n    formatOffset,\n    formatValue,\n    highlightColumn,\n    inlineStyles,\n    nonce,\n    rows,\n    setSelectionEnd,\n    setSelectionRange,\n    setSelectionStart,\n    showAscii,\n    showRowLabels,\n    state.cursorOffset,\n    state.nybbleHigh,\n    state.nybbleOffset,\n    state.selectionAnchor,\n    state.selectionDirection,\n    state.selectionEnd,\n    state.selectionStart,\n  ]);\n\n  return (\n    <HexEditorContext.Provider value={hexEditorContext}>\n      <div\n        className={joinClassNames(\n          className,\n          {\n            [classNames.editAscii || '']: state.editMode === EDIT_MODE_ASCII,\n            [classNames.editHex || '']: state.editMode === EDIT_MODE_HEX,\n            [classNames.notFocused || '']: !state.isFocused && state.selectionAnchor == null,\n          },\n        )}\n        style={editorStyle}\n      >\n        <input\n          onBlur={handleBlur}\n          onFocus={handleFocus}\n          onKeyDown={handleKeyDown}\n          onPaste={handlePaste}\n          ref={inputRef}\n          style={inputStyle || undefined}\n          tabIndex={tabIndex}\n          type=\"text\"\n        />\n        {!showColumnLabels ? null : (\n          <div className={classNames.header} style={headerStyle}>\n            <HexEditorRow\n              className={classNames.rowHeader}\n              classNames={classNames}\n              columns={columns}\n              cursorColumn={cursorColumn}\n              data={columnData}\n              disabled\n              formatOffset={formatHeaderOffset}\n              formatValue={formatHeaderValue}\n              isHeader\n              labelOffset={data.length}\n              nonce={nonce}\n              showAscii={showAscii}\n              showLabel={showRowLabels}\n              style={inlineStyles.row}\n              styles={inlineStyles}\n            />\n          </div>\n        )}\n        <HexEditorBody\n          className={classNames.body}\n          height={showColumnLabels ? height - rowHeight : height}\n          onItemsRendered={handleItemsRendered}\n          overscanCount={overscanCount || rows}\n          rowCount={rowCount}\n          rowHeight={rowHeight}\n          rows={rows}\n          ref={rowListRef}\n          style={bodyStyle}\n          width={width}\n        >\n          {children}\n        </HexEditorBody>\n      </div>\n    </HexEditorContext.Provider>\n  );\n};\n\nHexEditor.displayName = 'HexEditor';\n\nexport default memo(forwardRef(HexEditor));\n","import React, { useLayoutEffect, useRef } from 'react';\n\nimport {\n  HexEditorClassNames,\n  HexEditorInlineStyles,\n  ValueFormatter,\n} from '../types';\n\nimport {\n  EMPTY_CLASSNAMES,\n  EMPTY_INLINE_STYLES,\n} from '../constants';\n\nimport { getScrollbarSize } from '../utils';\n\nimport HexOffsetLabel from './HexOffsetLabel';\nimport HexEditorGutter from './HexEditorGutter';\nimport HexByteValue from './HexByteValue';\nimport HexAsciiValue from './HexAsciiValue';\n\ninterface Props {\n  asciiPlaceholder?: string | JSX.Element | null,\n  asciiValue?: number,\n  asciiWidth?: number,\n  byteWidth?: number,\n  className?: string,\n  classNames?: HexEditorClassNames,\n  data?: Uint8Array | number[],\n  formatOffset?: (offset: number) => string | number,\n  formatValue?: ValueFormatter,\n  gutterWidth?: number,\n  labelWidth?: number,\n  offset?: number,\n  onMeasure?: (measurements: {\n    asciiWidth: number,\n    byteWidth: number,\n    gutterWidth: number,\n    labelWidth: number,\n    rowHeight: number,\n    scrollbarWidth: number,\n  }) => void,\n  rowHeight?: number,\n  style?: React.CSSProperties | null,\n  styles?: HexEditorInlineStyles,\n  value?: number,\n};\n\nconst HexEditorMeasureRow = ({\n  asciiPlaceholder,\n  asciiValue,\n  asciiWidth: explicitAsciiWidth,\n  byteWidth: explicitByteWidth,\n  className,\n  classNames = EMPTY_CLASSNAMES,\n  formatOffset,\n  formatValue,\n  gutterWidth: explicitGutterWidth,\n  styles = EMPTY_INLINE_STYLES,\n  labelWidth: explicitLabelWidth,\n  offset,\n  onMeasure,\n  rowHeight: explicitRowHeight,\n  style,\n  value = 0,\n}: Props) => {\n  const measureContainerRef = useRef<HTMLDivElement>(null);\n  const measureGutterRef = useRef<HTMLDivElement>(null);\n  const measureLabelRef = useRef<HTMLDivElement>(null);\n  const measureByteRef = useRef<HTMLDivElement>(null);\n  const measureAsciiRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    let scrollbarWidth = 0;\n    let gutterWidth = 0;\n    let asciiWidth = 0;\n    let byteWidth = 0;\n    let labelWidth = 0;\n    let rowHeight = 0;\n\n    if (measureContainerRef.current) {\n      [scrollbarWidth] = getScrollbarSize(measureContainerRef.current);\n    }\n    if (measureGutterRef.current) {\n      const gutterRect = measureGutterRef.current.getBoundingClientRect();\n      gutterWidth = gutterRect.width;\n      rowHeight = Math.max(rowHeight, gutterRect.height);\n    }\n    if (measureAsciiRef.current) {\n      const asciiRect = measureAsciiRef.current.getBoundingClientRect();\n      asciiWidth = asciiRect.width;\n      rowHeight = Math.max(rowHeight, asciiRect.height);\n    }\n    if (measureByteRef.current) {\n      const byteRect = measureByteRef.current.getBoundingClientRect();\n      byteWidth = byteRect.width;\n      rowHeight = Math.max(rowHeight, byteRect.height);\n    }\n    if (measureLabelRef.current) {\n      const labelRect = measureLabelRef.current.getBoundingClientRect();\n      labelWidth = labelRect.width;\n      rowHeight = Math.max(rowHeight, labelRect.height);\n    }\n\n    if (onMeasure) {\n      onMeasure({\n        asciiWidth,\n        byteWidth,\n        gutterWidth,\n        labelWidth,\n        rowHeight,\n        scrollbarWidth,\n      });\n    }\n  }, [onMeasure]);\n\n  return (\n    <div className={className} style={style || undefined} ref={measureContainerRef}>\n      <HexEditorGutter\n        className={classNames.gutter}\n        ref={measureGutterRef}\n        style={{ width: explicitGutterWidth, height: explicitRowHeight, ...styles.gutter }}\n      />\n      <HexOffsetLabel\n        className={classNames.offsetLabel}\n        formatOffset={formatOffset}\n        ref={measureLabelRef}\n        offset={offset}\n        style={{ width: explicitLabelWidth, height: explicitRowHeight, ...styles.offsetLabel }}\n      />\n      <HexByteValue\n        className={classNames.byte}\n        classNames={classNames}\n        ref={measureByteRef}\n        style={{ width: explicitByteWidth, height: explicitRowHeight, ...styles.byte }}\n        value={value}\n      />\n      <HexAsciiValue\n        className={classNames.ascii}\n        classNames={classNames}\n        formatValue={formatValue}\n        placeholder={asciiPlaceholder}\n        ref={measureAsciiRef}\n        style={{ width: explicitAsciiWidth, height: explicitRowHeight, ...styles.ascii }}\n        value={asciiValue == null ? value : asciiValue}\n      />\n    </div>\n  );\n};\n\nHexEditorMeasureRow.displayName = 'HexEditorMeasureRow';\n\nexport default HexEditorMeasureRow;\n","import React, {\n  forwardRef,\n  memo,\n  useCallback,\n  useMemo,\n  useReducer,\n} from 'react';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n\nimport {\n  AutoSizeHexEditorProps,\n  HexEditorHandle,\n} from '../types';\n\nimport CLASS_NAMES from '../constants/classNames';\nimport INLINE_STYLES, { MEASURE_STYLE } from '../constants/inlineStyles';\nimport { formatHex } from '../utils';\n\nimport HexEditor from './HexEditor';\nimport HexEditorMeasureRow from './HexEditorMeasureRow';\n\ninterface AutoSizeHexEditorState {\n  asciiWidth: number,\n  byteWidth: number,\n  columns: number,\n  gutterWidth: number,\n  labelWidth: number,\n  rowHeight: number,\n  rows: number,\n  scrollbarWidth: number,\n};\n\ninterface AutoSizeHexEditorAction {\n  asciiWidth?: number,\n  byteWidth?: number,\n  columns?: number,\n  gutterWidth?: number,\n  labelWidth?: number,\n  rowHeight?: number,\n  rows?: number,\n  scrollbarWidth?: number,\n};\n\nconst reducer = (\n  prevState: AutoSizeHexEditorState,\n  mergeState: AutoSizeHexEditorAction,\n) => ({ ...prevState, ...mergeState });\n\nconst AutoSizeHexEditor: React.RefForwardingComponent<HexEditorHandle, AutoSizeHexEditorProps> = ({\n  asciiPlaceholder,\n  asciiWidth: explicitAsciiWidth,\n  byteWidth: explicitByteWidth,\n  classNames = CLASS_NAMES,\n  columns: explicitColumns,\n  gutterWidth: explicitGutterWidth,\n  height: explicitHeight,\n  inlineStyles = INLINE_STYLES,\n  labelWidth: explicitLabelWidth,\n  measureStyle = MEASURE_STYLE,\n  rowHeight: explicitRowHeight,\n  rows: explicitRows,\n  scrollbarWidth: explicitScrollbarWidth,\n  width: explicitWidth,\n  ...props\n}, ref) => {\n  const [state, setState] = useReducer(reducer, {\n    asciiWidth: explicitAsciiWidth || 10,\n    byteWidth: explicitByteWidth || 20,\n    columns: explicitColumns || 0x10,\n    gutterWidth: explicitGutterWidth || 0,\n    labelWidth: explicitLabelWidth || 80,\n    rowHeight: explicitRowHeight || 20,\n    rows: explicitRows || 0x10,\n    scrollbarWidth: explicitScrollbarWidth || 0,\n  });\n\n  const handleMeasure = useCallback(({\n    asciiWidth,\n    byteWidth,\n    gutterWidth,\n    labelWidth,\n    rowHeight,\n    scrollbarWidth,\n  }: {\n    asciiWidth: number,\n    byteWidth: number,\n    gutterWidth: number,\n    labelWidth: number,\n    rowHeight: number,\n    scrollbarWidth: number,\n  }) => {\n    setState({\n      asciiWidth: explicitAsciiWidth == null ? asciiWidth : explicitAsciiWidth,\n      byteWidth: explicitByteWidth == null ? byteWidth : explicitByteWidth,\n      gutterWidth: explicitGutterWidth == null? gutterWidth : explicitGutterWidth,\n      labelWidth: explicitLabelWidth == null ? labelWidth : explicitLabelWidth,\n      rowHeight: explicitRowHeight == null ? rowHeight : explicitRowHeight,\n      scrollbarWidth: explicitScrollbarWidth == null ? scrollbarWidth : explicitScrollbarWidth,\n    });\n  }, [\n    explicitAsciiWidth,\n    explicitByteWidth,\n    explicitGutterWidth,\n    explicitLabelWidth,\n    explicitRowHeight,\n    explicitScrollbarWidth,\n  ]);\n\n  const formatOffset = useMemo(() => {\n    const padToLength = 2 * Math.ceil(formatHex(Math.max(0, props.data.length - 1)).length / 2);\n    return (offset: number) => formatHex(offset, padToLength);\n  }, [props.data.length]);\n\n  const measureStyles = useMemo(() => ({\n    ascii: { ...measureStyle, ...inlineStyles.ascii },\n    byte: { ...measureStyle, ...inlineStyles.byte },\n    gutter: { ...measureStyle, ...inlineStyles.gutter },\n    offsetLabel: { ...measureStyle, ...inlineStyles.offsetLabel },\n  }), [inlineStyles, measureStyle]);\n\n  return (\n    <>\n      <HexEditorMeasureRow\n        asciiPlaceholder={asciiPlaceholder}\n        asciiValue={0x41}\n        asciiWidth={explicitAsciiWidth}\n        byteWidth={explicitByteWidth}\n        className={props.className}\n        classNames={classNames}\n        formatOffset={formatOffset}\n        formatValue={props.formatValue}\n        gutterWidth={explicitGutterWidth}\n        labelWidth={explicitLabelWidth}\n        offset={props.data.length}\n        onMeasure={handleMeasure}\n        style={measureStyle}\n        styles={measureStyles}\n        value={0x00}\n      />\n      <AutoSizer\n        disableWidth={explicitWidth != null || explicitColumns != null}\n        disableHeight={explicitHeight != null || explicitRows != null}\n      >\n        {({ width: autoSizerWidth, height: autoSizerHeight }) => {\n          // Horizontal\n          let width = explicitWidth == null ? autoSizerWidth : explicitWidth;\n          let columns = explicitColumns;\n          if (columns != null && width == null) {\n            // Calculate width from the columns and component measurements\n            width = state.scrollbarWidth;\n            if (props.showRowLabels) {\n              width += state.labelWidth + state.gutterWidth;\n            }\n            width += columns * state.byteWidth;\n            if (props.showAscii) {\n              width += (columns * state.asciiWidth) + state.gutterWidth;\n            }\n            width = Math.ceil(width);\n          } else if (width != null) {\n            // Determine the number of columns using the width\n            let remainingWidth = width - state.scrollbarWidth;\n            if (props.showRowLabels) {\n              remainingWidth -= state.labelWidth + state.gutterWidth;\n            }\n            if (props.showAscii) {\n              remainingWidth -= state.gutterWidth;\n            }\n            const columnMinimumWidth = props.showAscii\n              ? state.asciiWidth + state.byteWidth\n              : state.byteWidth;\n            columns = Math.max(1, Math.floor(remainingWidth / columnMinimumWidth));\n          } else {\n            console.warn('Horizontal size inference failed!');\n            columns = 1;\n          }\n\n          // Vertical\n          let height = explicitHeight == null ? autoSizerHeight : explicitHeight;\n          let rows = explicitRows;\n          const rowHeight = explicitRowHeight == null ? state.rowHeight : explicitRowHeight;\n          if (rows != null && height == null) {\n            // Calculate height from the columns and component measurements\n            height = rows * rowHeight;\n            if (props.showColumnLabels) {\n              height += rowHeight;\n            }\n            height = Math.ceil(height);\n          } else if (height != null) {\n            // Determine the number of rows using the height\n            rows = Math.max(1, height && rowHeight && Math.floor(height / rowHeight));\n            if (rows && props.showColumnLabels) {\n              rows -= 1;\n            }\n          } else {\n            console.warn('Vertical size inference failed!');\n            rows = 1;\n          }\n\n          return (\n            <HexEditor\n              asciiPlaceholder={asciiPlaceholder}\n              classNames={classNames}\n              columns={columns}\n              height={height}\n              inlineStyles={inlineStyles}\n              ref={ref}\n              rowHeight={rowHeight}\n              rows={rows}\n              width={width}\n              {...props}\n              style={{\n                ...props.style,\n                width,\n                height,\n              }}\n            />\n          );\n        }}\n      </AutoSizer>\n    </>\n  );\n};\n\nAutoSizeHexEditor.displayName = 'AutoSizeHexEditor';\n\nexport default memo(forwardRef(AutoSizeHexEditor));\n","export type Color = string;\n\nexport type HexEditorTheme = {\n  asciiPaddingX: string | number,\n  bytePaddingX: string | number,\n  rowPaddingY: string | number,\n  scrollWidth: string | number,\n  cursorBlinkSpeed: string,\n  colorBackground: Color,\n  colorBackgroundColumnEven: Color,\n  colorBackgroundColumnOdd: Color,\n  colorBackgroundCursor: Color,\n  colorBackgroundCursorHighlight: Color,\n  colorBackgroundEven: Color,\n  colorBackgroundInactiveCursor: Color,\n  colorBackgroundInactiveCursorHighlight: Color,\n  colorBackgroundInactiveSelection: Color,\n  colorBackgroundInactiveSelectionCursor: Color,\n  colorBackgroundLabel: Color,\n  colorBackgroundLabelCurrent: Color,\n  colorBackgroundOdd: Color,\n  colorBackgroundRowEven: Color,\n  colorBackgroundRowOdd: Color,\n  colorBackgroundSelection: Color,\n  colorBackgroundSelectionCursor: Color,\n  colorScrollbackTrack: Color,\n  colorScrollbackThumb: Color,\n  colorScrollbackThumbHover: Color,\n  colorText: Color,\n  colorTextColumnEven: Color,\n  colorTextColumnOdd: Color,\n  colorTextCursor: Color,\n  colorTextCursorHighlight: Color,\n  colorTextEven: Color,\n  colorTextInactiveCursor: Color,\n  colorTextInactiveCursorHighlight: Color,\n  colorTextInactiveSelection: Color,\n  colorTextInactiveSelectionCursor: Color,\n  colorTextLabel: Color,\n  colorTextLabelCurrent: Color,\n  colorTextOdd: Color,\n  colorTextRowEven: Color,\n  colorTextRowOdd: Color,\n  colorTextSelection: Color,\n  colorTextSelectionCursor: Color,\n  fontFamily: string,\n  fontSize: string | number,\n  gutterWidth: string | number,\n  labelPaddingX: string | number,\n  textTransform: string,\n};\n\nconst hexEditorTheme: HexEditorTheme = {\n  asciiPaddingX: 0,\n  bytePaddingX: '0.1em',\n  rowPaddingY: '0.1em',\n  colorBackground: '#fff',\n  colorBackgroundColumnEven: '#fff',\n  colorBackgroundColumnOdd: '#f6f8fa',\n  colorBackgroundCursor: '#f1f8ff',\n  colorBackgroundCursorHighlight: '#c8e1ff',\n  colorBackgroundEven: '#fff',\n  colorBackgroundInactiveCursor: '#fffbdd',\n  colorBackgroundInactiveCursorHighlight: '#fffbdd',\n  colorBackgroundInactiveSelection: '#e6ebf1',\n  colorBackgroundInactiveSelectionCursor: '#e6ebf1',\n  colorBackgroundLabel: '#fff',\n  colorBackgroundLabelCurrent: '#fff',\n  colorBackgroundOdd: '#f6f8fa',\n  colorBackgroundRowEven: '#fff',\n  colorBackgroundRowOdd: '#f6f8fa',\n  colorBackgroundSelection: '#0366d6',\n  colorBackgroundSelectionCursor: '#005cc5',\n  colorScrollbackTrack: '#f6f8fa',\n  colorScrollbackThumb: '#c6cbd1',\n  colorScrollbackThumbHover: '#959da5',\n  colorText: '#24292e',\n  colorTextColumnEven: '#24292e',\n  colorTextColumnOdd: '#24292e',\n  colorTextCursor: '#1074e7',\n  colorTextCursorHighlight: '#0366d6',\n  colorTextEven: '#24292e',\n  colorTextInactiveCursor: '#735c0f',\n  colorTextInactiveCursorHighlight: '#735c0f',\n  colorTextInactiveSelection: '#586069',\n  colorTextInactiveSelectionCursor: '#586069',\n  colorTextLabel: '#c6cbd1',\n  colorTextLabelCurrent: '#676a6c',\n  colorTextOdd: '#24292e',\n  colorTextRowEven: '#24292e',\n  colorTextRowOdd: '#24292e',\n  colorTextSelection: '#fff',\n  colorTextSelectionCursor: '#fff',\n  fontFamily: 'monospace',\n  fontSize: '16px',\n  gutterWidth: '0.5em',\n  cursorBlinkSpeed: '0.5s',\n  labelPaddingX: '0.5em',\n  scrollWidth: 'auto',\n  textTransform: 'uppercase',\n};\n\nexport default hexEditorTheme;","import { css } from 'styled-components';\n\nimport defaultTheme, { HexEditorTheme } from '../themes';\n\nexport const hexEditorTheme = <K extends keyof HexEditorTheme>(key: K) =>\n  ({ theme: { hexEditor = defaultTheme } }: { theme: { hexEditor: HexEditorTheme } }): HexEditorTheme[K] => {\n    const value = hexEditor[key] || defaultTheme[key];\n    return typeof value === 'number' ? `${value}px` : value;\n  };\n\nexport default css`\n  font-family: ${hexEditorTheme('fontFamily')};\n  font-size: ${hexEditorTheme('fontSize')};\n\n  color: ${hexEditorTheme('colorText')};\n  background-color: ${hexEditorTheme('colorBackground')};\n\n  @keyframes highlight-animation {\n    50% {\n      background-color: ${hexEditorTheme('colorBackgroundCursorHighlight')};\n      color: ${hexEditorTheme('colorTextCursorHighlight')};\n    }\n  }\n\n  @keyframes highlight-animation-unfocused {\n    50% {\n      background-color: ${hexEditorTheme('colorBackgroundInactiveCursorHighlight')};\n      color: ${hexEditorTheme('colorTextInactiveCursorHighlight')};\n    }\n  }\n\n  &::selection {\n    background-color: transparent;\n  }\n\n  *::selection {\n    background-color: transparent;\n  }\n\n  /* Layout & Sizing */\n  .gutter,\n  .gutterHeader {\n    width: ${hexEditorTheme('gutterWidth')};\n    padding-top: ${hexEditorTheme('rowPaddingY')};\n    padding-bottom: ${hexEditorTheme('rowPaddingY')};\n  }\n\n  .hexEditorHeader,\n  .hexEditorBody {\n    min-width: 100%;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    box-sizing: border-box;\n  }\n\n  [data-measure-scrollbar],\n  .hexEditorHeader,\n  .hexEditorBody {\n    &::-webkit-scrollbar {\n      width: ${hexEditorTheme('scrollWidth')};\n      height: 0;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      width: ${hexEditorTheme('scrollWidth')};\n      background-color: ${hexEditorTheme('colorScrollbackThumb')};\n\n      &:hover {\n        background-color: ${hexEditorTheme('colorScrollbackThumbHover')};\n      }\n    }\n\n    &::-webkit-scrollbar-track {\n      width: ${hexEditorTheme('scrollWidth')};\n      background-color: ${hexEditorTheme('colorScrollbackTrack')};\n    }\n\n    &::-webkit-scrollbar-button {\n      width: ${hexEditorTheme('scrollWidth')};\n      background-color: ${hexEditorTheme('colorScrollbackThumb')};\n      height: 0;\n    }\n  }\n\n  .hexEditorRow,\n  .hexEditorRowHeader {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n  }\n\n  .byteValues,\n  .asciiValues {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n  }\n\n  .asciiValue,\n  .asciiHeader,\n  .byteValue,\n  .byteHeader,\n  .gutter,\n  .gutterHeader,\n  .offsetLabel,\n  .offsetLabelHeader {\n    display: flex;\n    flex-direction: row;\n    flex-shrink: 0;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n  }\n\n  .offsetLabel,\n  .offsetLabelHeader {\n    padding: ${hexEditorTheme('rowPaddingY')} ${hexEditorTheme('labelPaddingX')};\n  }\n\n  .byteValue,\n  .byteHeader {\n    text-transform: ${hexEditorTheme('textTransform')};\n\n    > .nybbleHighValue,\n    > .nybbleLowValue {\n      padding-top: ${hexEditorTheme('rowPaddingY')};\n      padding-bottom: ${hexEditorTheme('rowPaddingY')};\n    }\n\n    > .nybbleHighValue {\n      padding-left: ${hexEditorTheme('bytePaddingX')};\n    }\n\n    > .nybbleLowValue {\n      padding-right: ${hexEditorTheme('bytePaddingX')};\n    }\n  }\n\n  .asciiValue,\n  .asciiHeader {\n    padding: ${hexEditorTheme('rowPaddingY')} ${hexEditorTheme('asciiPaddingX')};\n  }\n\n  /* Colors */\n  .gutter,\n  .gutterHeader {\n    background-color: ${hexEditorTheme('colorBackground')};\n  }\n\n  .offsetLabel,\n  .offsetLabelHeader {\n    background-color: ${hexEditorTheme('colorBackgroundLabel')};\n    color: ${hexEditorTheme('colorTextLabel')};\n\n    &.currentRow {\n      background-color: ${hexEditorTheme('colorBackgroundLabelCurrent')};\n      color: ${hexEditorTheme('colorTextLabelCurrent')};\n    }\n  }\n\n  .byteHeader {\n    background-color: ${hexEditorTheme('colorBackgroundLabel')};\n    color: ${hexEditorTheme('colorTextLabel')};\n\n    &.currentColumn {\n      background-color: ${hexEditorTheme('colorBackgroundLabelCurrent')};\n      color: ${hexEditorTheme('colorTextLabelCurrent')};\n    }\n  }\n\n  .asciiHeader {\n    background-color: ${hexEditorTheme('colorBackgroundLabel')};\n    color: ${hexEditorTheme('colorTextLabel')};\n  }\n\n  .byteValue {\n    &.even {\n      background-color: ${hexEditorTheme('colorBackgroundEven')};\n      color: ${hexEditorTheme('colorTextEven')};\n\n      &.currentColumn {\n        background-color: ${hexEditorTheme('colorBackgroundColumnEven')};\n        color: ${hexEditorTheme('colorTextColumnEven')};\n      }\n\n      &.currentRow {\n        background-color: ${hexEditorTheme('colorBackgroundRowEven')};\n        color: ${hexEditorTheme('colorTextRowEven')};\n      }\n    }\n\n    &.odd {\n      background-color: ${hexEditorTheme('colorBackgroundOdd')};\n      color: ${hexEditorTheme('colorTextOdd')};\n\n      &.currentColumn {\n        background-color: ${hexEditorTheme('colorBackgroundColumnOdd')};\n        color: ${hexEditorTheme('colorTextColumnOdd')};\n      }\n\n      &.currentRow {\n        background-color: ${hexEditorTheme('colorBackgroundRowOdd')};\n        color: ${hexEditorTheme('colorTextRowOdd')};\n      }\n    }\n\n    &.cursor > .nybbleHighValue,\n    &.cursor > .nybbleLowValue {\n      background-color: ${hexEditorTheme('colorBackgroundCursor')};\n      color: ${hexEditorTheme('colorTextCursor')};\n    }\n\n    &.cursorHigh.highlight > .nybbleHighValue,\n    &.cursorLow.highlight > .nybbleLowValue {\n      animation: highlight-animation ${hexEditorTheme('cursorBlinkSpeed')} step-start 0s infinite;\n    }\n\n    &.selection > .nybbleHighValue,\n    &.selection > .nybbleLowValue {\n      background-color: ${hexEditorTheme('colorBackgroundSelection')};\n      color: ${hexEditorTheme('colorTextSelection')};\n    }\n\n    &.selectionCursor > .nybbleHighValue,\n    &.selectionCursor > .nybbleLowValue {\n      background-color: ${hexEditorTheme('colorBackgroundSelectionCursor')};\n      color: ${hexEditorTheme('colorTextSelectionCursor')};\n    }\n  }\n\n  &.editAscii .byteValue,\n  &.notFocused .byteValue {\n    &.cursor > .nybbleHighValue,\n    &.cursor > .nybbleLowValue {\n      background-color: ${hexEditorTheme('colorBackgroundInactiveCursor')};\n      color: ${hexEditorTheme('colorTextInactiveCursor')};\n    }\n\n    &.cursorHigh.highlight > .nybbleHighValue,\n    &.cursorLow.highlight > .nybbleLowValue {\n      animation: highlight-animation-unfocused ${hexEditorTheme('cursorBlinkSpeed')} step-start 0s infinite;\n    }\n\n    &.selection > .nybbleHighValue,\n    &.selection > .nybbleLowValue {\n      background-color: ${hexEditorTheme('colorBackgroundInactiveSelection')};\n      color: ${hexEditorTheme('colorTextInactiveSelection')};\n    }\n\n    &.selectionCursor > .nybbleHighValue,\n    &.selectionCursor > .nybbleLowValue {\n      background-color: ${hexEditorTheme('colorBackgroundInactiveSelectionCursor')};\n      color: ${hexEditorTheme('colorTextInactiveSelectionCursor')};\n    }\n  }\n\n  .asciiValue {\n    &.cursor {\n      background-color: ${hexEditorTheme('colorBackgroundCursor')};\n      color: ${hexEditorTheme('colorTextCursor')};\n    }\n\n    &.cursor.highlight {\n      animation: highlight-animation ${hexEditorTheme('cursorBlinkSpeed')} step-start 0s infinite;\n    }\n\n    &.selection {\n      background-color: ${hexEditorTheme('colorBackgroundSelection')};\n      color: ${hexEditorTheme('colorTextSelection')};\n    }\n\n    &.selectionCursor {\n      background-color: ${hexEditorTheme('colorBackgroundSelectionCursor')};\n      color: ${hexEditorTheme('colorTextSelectionCursor')};\n    }\n  }\n\n  &.editHex .asciiValue,\n  &.notFocused .asciiValue {\n    &.cursor {\n      background-color: ${hexEditorTheme('colorBackgroundInactiveCursor')};\n      color: ${hexEditorTheme('colorTextInactiveCursor')};\n    }\n\n    &.cursor.highlight {\n      animation: highlight-animation-unfocused ${hexEditorTheme('cursorBlinkSpeed')} step-start 0s infinite;\n    }\n\n    &.selection {\n      background-color: ${hexEditorTheme('colorBackgroundInactiveSelection')};\n      color: ${hexEditorTheme('colorTextInactiveSelection')};\n    }\n\n    &.selectionCursor {\n      background-color: ${hexEditorTheme('colorBackgroundInactiveSelectionCursor')};\n      color: ${hexEditorTheme('colorTextInactiveSelectionCursor')};\n    }\n  }\n`;\n","import React, { forwardRef } from 'react';\nimport styled from 'styled-components';\n\nimport {\n  HexEditorHandle,\n  HexEditorProps,\n} from '../types';\nimport { EMPTY_INLINE_STYLES } from '../constants';\n\nimport hexEditorStyles from '../utils/styles';\n\nimport HexEditor from './HexEditor';\n\nconst StyledHexEditor: React.RefForwardingComponent<HexEditorHandle, HexEditorProps> = ({\n  inlineStyles = EMPTY_INLINE_STYLES,\n  ...restProps\n}: HexEditorProps, ref) => (\n  <HexEditor inlineStyles={inlineStyles} ref={ref} {...restProps} />\n);\n\nStyledHexEditor.displayName = 'StyledHexEditor';\n\nexport default styled(forwardRef(StyledHexEditor))`${hexEditorStyles}`;\n","import React, { forwardRef } from 'react';\nimport styled from 'styled-components';\n\nimport {\n  AutoSizeHexEditorProps,\n  HexEditorHandle,\n} from '../types';\nimport { EMPTY_INLINE_STYLES } from '../constants';\n\nimport hexEditorStyles from '../utils/styles';\n\nimport AutoSizeHexEditor from './AutoSizeHexEditor';\n\nconst StyledAutoSizeHexEditor: React.RefForwardingComponent<HexEditorHandle, AutoSizeHexEditorProps> = ({\n  inlineStyles = EMPTY_INLINE_STYLES,\n  ...restProps\n}: AutoSizeHexEditorProps, ref) => (\n  <AutoSizeHexEditor inlineStyles={inlineStyles} ref={ref} {...restProps} />\n);\n\nStyledAutoSizeHexEditor.displayName = 'StyledAutoSizeHexEditor';\n\nexport default styled(forwardRef(StyledAutoSizeHexEditor))`${hexEditorStyles}`;\n"],"names":["HexOffsetLabel","HexEditorGutter","HexEditorRow","List","HexEditorBody","reducer","HexEditor","hexEditorTheme","defaultTheme","AutoSizeHexEditor"],"mappings":"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"}